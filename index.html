

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数字三角形生成器及解析</title>
    <style>
        body {
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }
        .container {
            text-align: center;
        }
        #explanation{
            text-align: left;
        }
    </style>
</head>
<body>
    <div class="container">
        <p>持续更新中...</p>
        <h2>数字三角形生成器及解析</h2>

        <label for="birthdate">选择你的生日:</label>
        <input type="date" id="birthdate" max="" onload="setDateLimit()">
        <br><br>

        <label for="birthdate">另一半的主性格数字:</label>
        <input type="number" id="other_main_number" placeholder="如需解析感情密码">
        <br><br>

        <button onclick="generateAndExplainTriangle()">开始解析</button>
    
        <h3>你的数字三角形:</h3>
        <pre id="triangle"></pre>
        <h3>数字三角形解析:</h3>
        <div id="explanation"></div>
    </div>
    
    <script>
        function sumDigits(n) {
            return n === 0 ? 0 : (n % 10) + sumDigits(Math.floor(n / 10));
        }

        function singleDigitSum(n) {
            while (n > 9) {
                n = sumDigits(n);
            }
            return n;
        }

        function explainNumber(num) {
            // 示例解释；可根据需要进一步扩展或修改
            const explanations = [
                "数字不存在",
                "具备领导才能、创造能力、独立自主、自信。同时，其负面行为则是武断、孤独和自我沉湎。他们过于相信自己的能 力，对自己信心十足，反感其他人对他的干扰。因此1号人特别在意自己的隐秘空间，不喜欢别人离他们太近，即使是他们最亲密的家人朋友，也要留有一定的距离。",
                "具备较好的沟通能力和分析能力，他们会通过和别人的交谈来获得更多信息。生命数字2更多的是一个属于女性性别的数字, 拥有这个数字的人，多半会表现得温和并富有耐心、以及细腻的感知力。而同时，2号性格的人也会比别人表现出更多的犹豫不决和优柔寡断.",
                "通常拥有极强的行动力，且对速度有高要求，但也显得过于急躁，显露出情 绪化和坏脾气。3号性格的人表现得容易冲动、任性、不专情。他们对朋友很讲义气，为人也很豪爽仗义，不拘小节，但由于3号的急躁性格，在 人际交往中现得过于直接坦率，有些话往往不经过大脑就脱口而出，另外心里有什么不满也会表达出来，这容易得罪别人。其实3号性格的人心地 善良，对交心的朋友相当信任，对家人更是爱护有加。 ",
                "善于策划、擅长组织、求职欲望强烈、做事有条理。他们极容易在物质世界中获得安全感，正因为对安全感看得过重，使得4号人常常对自己无法控制的事情产生恐惧、悲观。4号性格的人喜欢一个稳固的有组织的工作环境，他们更喜欢一个安全可靠的家庭，很多人还会把 家庭视为最重要。4号人也非常注重一个人为人是否实在。 ",
                "喜欢无拘无束、自由自在，同时方向感很强。他们一旦制定了自己的目标，就会坚持不懈，甚至过分地执著。5号性格的人他们对自身的权益看得较重，保护自己的意识很强，但也会因此过于追求自由、过于自我保护、过于追求完美。5号性格的人富有幽默感、他们生活中处处充满趣味，显得朝气蓬勃、丰富多彩。5号人需要改善的问题是，他们比较冲动，很容易被激怒，也很情绪化。 ",
                "对于解决问题很有特长，能很快知道问题的症结在哪里，制定出解决问题的步骤。6号性格的人想象力很丰富，第6感很强，女性在情感方面的预知尤其敏感。能发现问题更要解决问题。6号性格的人喜欢追求完美，对自己和别人都很挑剔，总是会留意到其他人还没有察觉的缺点，不管是自己的，还是别人的。同时，也很有责任感，具有大爱和无私精神，不懂拒绝他人，且他们在帮助别人的同时，还很乐意为别人做决定。 ",
                "喜欢分析问题、探讨问题、挖掘真相，喜欢凡事都问个为什么。7号性格的人很容易专心致志，因为专注，所以他们更容易表现得出类拔萃，更容易取得成功。7号性格的人很有人缘，运气好，贵人多；他们有时候很世故，善于交际处事圆滑，是属于交际圈子广、朋友一大堆的那类型。7号的人在做事上比较迟缓冷淡，时常行动都慢人一拍，行动力弱，且天生有点害羞。 ",
                "具有一定的责任感。他们一旦承诺了，就会遵守诺言。8号性格的人很可能成为大慈善家，也可能成为野心家、独裁专制者。8号性格的人很具有开拓的天赋，注重金钱和权力，一旦他们发现某个项目是可以挖掘的，他们就会从根底开始探查，也最擅长将一个意念具体化。当有一个不错的想法时，他们会很快行动起来，付诸实施，并且锲而不舍，一直到获得成功为止。所以在经营事业方面，8号性格的人有着得天独厚的优势，比如做生意，8号性格的人更容易取得成功，会让人跟随。8号人性格刚强，内心像火山一样，一触即发，一旦发起脾气来，让人大吃一 惊。 ",
                "会有全面的、正直的、智慧和洞察的性格特征，是天生的梦想家。但同时，也正因为9这个数字的至高无上，使得身在高处的人 有点寂寞，也有点没有原则和贪得无厌。但总体来说，9号喜欢新鲜感，情感丰富、洞察力强、容易受感动，他们说话和做事都会收到别人的认同，会有很好的机遇，这反而助长了9号人的贪欲。所以9号人的一定要注意培养自己专一、专注的思考和行为习惯、落实固定的目标。要修的功课是舍得、感恩、低调、做有价值的事，给梦想一个落脚的根。 "
            ];
            return explanations[num];
        }

        function inner(surface_num) {
            // 内心
            const inners = [
                "数字不存在",
                "内心密码是 1 号（主性格是 5 号 ）：自信且富有创造力，独立，创意是他们的特质，他们很会指挥和领导别人，而且不愿意听从别人的意见和方法，也不喜欢死板和教条主义。",
                "内心密码是 2 号（主性格是 1 号）：合作与平衡，性情温和并富于合作精神，但是如果不能掌握好尺度，会走向反面而呈现退缩的状态，这种矛盾会使他们看起来外表刚强实则内心柔弱",
                "内心密码是 3 号（主性格是 6 号）：积极表达的行为来自于他们敏感的情绪，行动力快并容易冲动，就像他们的敏感而丰富的情绪，往往不能坚持到底，缺乏耐性与恒心，原因就是因为情绪的快速转换。",
                "内心密码是 4 号（主性格是 2 号）：需要建立稳定及安全感，擅长分析策划，有时却会因分析过度而产生困惑及冲动。看起来会比较乐观，就算是一件不好的事，也会尽量往好的方面去想。",
                "内心密码是 5 号（主性格是 7 号）：天性自由，不愿意被束缚规范，兴趣广泛，善变，思想灵活，不喜欢听人劝告及接受别人意见，比较固执。",
                "内心密码是 6 号（主性格是 3 号）：凡事追求品质，对人对己要求都很高，所以一直在不断的自我改进，因为受到理想主义的牵引，所以对money很敏感，同时拥有很多创意。",
                "内心密码是 7 号（主性格是 8 号）：信任他人并愿意与人分享，充满智慧与正义，他们心地善良， 乐于助人，但是也比较容易情绪化。",
                "内心密码是 8 号（主性格是 4 号）：可以承担很多压力，但也有能力去追求他们所向往的财富，常会在精神与物质，控制与服从，被动与野心之间矛盾和挣扎，透过丰富的物质层面会驱使他们完成自己的使命。",
                "内心密码是 9 号（主性格是 9 号）：具有正直的品德与超人的智慧，有很多新奇的想法并善于整合，天生就很有魅力，所以能够吸引很多支持者，也可以带领团队。"
            ]
            const inner_num = singleDigitSum(surface_num * 2);
            return inners[inner_num];
        }

        function surface(num) {
            //表面
            const surfaces = [
                "数字不存在",
                "1号人表面上孤傲，其实内心非常柔软；",
                "2号人表面上什么都随你，其实内心是固执；",
                "3号人表面看起来大大咧咧，内心脆弱非常容易受伤；",
                "4号人看似很追求安全感，其实内心很狂野；",
                "5号人看起来自由自在身边朋友众多，其实内心特别孤独；",
                "6号人常常给人感觉敏感又多疑，但实际内心却十分仗义；",
                "7号人外表看来左右逢源十分好说话，骨子里却固执的要命；",
                "8号人看起来对money 权力欲望旺盛，实际内心渴望宁静和朋友；",
                "9号人表里如一；",
            ]
            return surfaces[num];
        }

        function subconscious(num) {
            // 潜意识
            const _subconscious = [
                "数字不存在",
                "潜意识码为1：关键时刻内在的创造力驱使他成为一个团体中的领袖人物，制造氛围，带动大家。",
                "潜意识码为2：既想合作又想反抗，始终在矛盾当中，他们具有外刚内柔的特质，感性且愿意付出。",
                "潜意识码为3：情绪敏感，表达直接，率直，行事迅速，执行力非常强。",
                "潜意识码为4：聪明而且善于学习新的知识，偷偷的学习，不愿让人知道。",
                "潜意识码为5：有目标感，喜欢按照自己的原则来做事，往往给人慰觉有些固执己见。",
                "潜意识码为6：富有创意，他们的头脑中总是有很多的计划，隐藏着很大的财富。",
                "潜意识码为7：心智敏税，信任开放，富有正义感的他们，会把朋友放在很重要的位省。",
                "潜意识码为 8：想法多，期望得到很多，有关钱、尊严以及地位，会积极努力争取。",
                "潜意识码为 9：喜欢站在山峰上俯视下方，有很敏说的洞察力，会有更多的机会和机遇。"
            ]
            return _subconscious[num];
        }

        function detail(num) {
            const details = [
                "数字不存在",
                `
正面：创造、有领导办、 自信、有分析能办、独立、组织力、天性聪明，多才多艺，有原则性的艺术家，是个很得人心的朋友，为人仁德，获得朋友喜爱。<br>
负面：自我、傲慢固执、孤独、个人主义、沉迷者、冷漠苛刻，自大，自我为中心，容易沉迷于不良嗜好。<br>
特质：感情独立，在交际应明和為 管理方面都不依款对方，向往各自的私人空同，活動自由的、孤独的。<br>
突破点：试着放下自我，少发表个人意见，多倾听，并给子他人讲话的机会。<br>
--------------------------------------------------------------------------------<br>
【健康问题】偏头痛<br>
【内心需求】要有自己的独立空回<br>
【恐惧】伤白尊、不被重视、做配角、不如别人<br>
--------------------------------------------------------------------------------<br>
首选职业：leader、导演、演员、培训师等等，所有可以开创个人价值的工作都是1号人的首选。<br>
               `,
                `
正面：会沟通、温和有社、知足有同情心、宽容，有耐性，受欢迎，有爱心，在集体生活中可以展示自己的才华，适合做外交官。<br>
负面：犹豫不决、易受到影响，依赖性强，得过目过没条理，容易意志消沉，讨厌做决定优柔寡断的性格会错失很多机会，缺少主张。<br>
特质：重感情，温和有礼，也有较强的依赖心理，缺少主张，很少争取属于自己的机会和权力。<br>
突破点：学会独立，积极的抓佳机会，展现自我的才华会获得成功，需要突破胆量。<br>
--------------------------------------------------------------------------------<br>
[相处原则】陪伴就是爱<br>
【健康问题】 上呼吸道 “鼻子”<br>
【内心需求】需要被关心，需要被理解。<br>
--------------------------------------------------------------------------------<br>
首选职业：喜欢沟通，和平，与人链接，红娘，人力资源，作者，侦探，记者，护理人员，教育人员。<br>
            `,
            `
正面：行动善于言辞乐观精力充沛 有创意多才多艺，为人乐观 是欢乐使者 有很强的行动力，有演说者的才能。<br>
负面：任性冲动爱批评人 过度紧张情绪化 我行我素，常常抱怨和批评，怀疑白己，容易发脾气，有时候说话不经大脑，为人处事不成熟。<br>
特质：感情冲动敏慰，处理事情今张，容易被激怒，善于感性与愉悦的沟通，能很快与人建立关系。<br>
突破点：说话技巧一点，管佳自己的嘴，三思而后行。<br>
--------------------------------------------------------------------------------<br>
【健康问题】 保护眼睛（易干涩、流泪）<br>
【内心需求】需要别人认同和赞美她<br>
【恐惧】被限制、 无趣的生活、不被关注<br>
--------------------------------------------------------------------------------<br>
首选职业：喜欢演说，幻想，希望通过自己的嘴巴和头脑去展示自己的全部能量，公关、广告设计企业策划，化妆师，美容美发，服装设计师，音乐创作，销售。<br>
            `,
            `
正面：策划毅力 聪明 善于组织稳定 追求知识，求知欲强，有耐心，喜欢按部就班，为人忠诚值得信赖，有责任感，爱读书，积极的分析者<br>
负面：固执，死板，犹豫不决，单刀直入，步调缓慢，缺乏想象力，做事过于保守，缺乏安全感。<br>
特质：很直率的感情，说话时要讲重点且不能夸张，要实事求是喜欢单刀直入，容易得罪人。<br>
突破点：要放宽心态，如果没涉及原则问题，可以灵活处理，敢于尝试新鲜事物，让生命有更多的选择。<br>
--------------------------------------------------------------------------------<br>
【健康问题】缓解思想压力，抑郁，注意睡眠质量<br>
【内心需求】稳定踏实感<br>
【恐惧】不穏定、変来変去、生活危机<br>
--------------------------------------------------------------------------------<br>
首选职业：科学家、律师、会计、公务员，技术人员即稳定有能感到踏实的，没有变动性的工作。<br>
            `,
            `
正面：方向强，随性思考，别出心裁，喜欢白由自在，易被启发，喜欢昌险，尝试各种新鲜事物，对人热情豪爽，朝气蓬勃有远见。<br>
负面：固执，猜疑，易怒，过度表现，放纵自己，不愿意被束缚会错失很多机会。<br>
特质：喜欢无拘无束的白由生活，方向感强也相对固执，在依赖和独立中摇摆不定，经常不是人上人就是人下人。<br>
突破点：放下自己的固执己见，适当听取别人的建议，对白己的言行加以约束，会获得更多的机会。<br>
--------------------------------------------------------------------------------<br>
【健康可題】上呼吸道（咽候）心（胸込）<br>
【内心需求】方向目标<br>
【恐惧】承诺、压力、承担责任、一成不变<br>
--------------------------------------------------------------------------------<br>
首选职业：爱好白由，喜欢白由白在地安排自己的时间。演说家、歌唱家，旅行家导游，美食家网络店主，可以自由安排时间，还可以不断有新鲜感<br>
            `,
            `
正面：忠诚，有同情心，和平主义者，有智慧，懂得为他人设想，有良好的策划能力，特别是在省💰管理方向。<br>
负面：浪费，爱挑剔，自负，有压力感，喋喋不休，懒散，敏感和忧都，容易迷失在琐事里，会因为害怕暴露缺点而避开参加一些活动。<br>
特质：一感强，尤其是女性在情感方面敏感很注重家庭观念，性子急，轻过程只重视结果。<br>
突破点：活跃一些，主动一些，爱别人的同时，也应该会照顾自己。<br>
--------------------------------------------------------------------------------<br>
【健康向題】肩致、背酸<br>
【内心需求】理解，公平<br>
【恐惧】缺乏价值、无回报、粗糙<br>
--------------------------------------------------------------------------------<br>
首选职业：不断的奉南智慧，营养师，心理咨询师，厨师，，作曲家，设计师，哲学家，这些可以不断让6号人付出智慧。<br>
            `,
            `
正面：人缘好，精于分析，博学，别出心裁，有正义感，内省力强，善于交际，博爱与包容，精明能干，懂得提出问题和分析问题。<br>
负面：孤独，行动力弱，不体贴，迟缓冷淡，行动力弱，遇到变故时易郁郁i欢，通常因为恐惧害怕而选择逃避。<br>
特质：一个故事型性格的人，在人际关系上能左右逢源，但由于他们答应了太多人，却无法满足到每一个人，因因此别人会认为他们爱放鸽子。<br>
突破点：欣赏别人的长处，即使他们的喜好性格和你不大相同，当发生问题时，勇于接受事实，不要惧怕改变。<br>
--------------------------------------------------------------------------------<br>
【健康问题】肾膀胱<br>
【内心需求】真相<br>
【相外原則】投其所好<br>
--------------------------------------------------------------------------------<br>
首选职业：喜欢钻研，不断的获得知识和智慧学者专家，研究人员，教授，企业策划，咨询顾问，可以在一个领域深入<br>
            `,
            `
正面：野心，影响力、责任感重、企业家潜质。乐于帮助别人，注重外在感觉，可成为大慈善家。<br>
负面：压力、独裁、消极、野心、专制、追求虚名，一旦少年得志，会执迷于💰和权，会因为要获得好处而放奔自己的良好德行。<br>
特质：一个责任型的人，答应了人就一定去做到，不然就会坐立不安，大多数大器晚成。<br>
突破点：若始终保持善良、真诚、正直的品格以及不懈的努力。<br>
--------------------------------------------------------------------------------<br>
【健康问题】肠胃功能<br>
【内心需求】尊严名誉地位崮<br>
【恐惧】失去威望、被人怜悯、平庸、失败、贫穷<br>
--------------------------------------------------------------------------------<br>
首选职业：体现自己的价值和威望，适合当老板，企业管理者，销售，能开创价值与💰
            `,
            `
正面：爱冒险、奉献、情感丰富、有趣的、洞察力很强，随机应变，说话做事都会被认可，而且机会很多。<br>
负面：无原则、 寂寞、情感泛滥、自我，比较不知足，欲望没有封顶，兴趣爱好广泛，经常三分钟热度，意志不坚定。<br>
特质：一个全面型的人，性格开朗，机灵活泼、善于交际，在情感上多情浪漫爱做梦。<br>
突破点：机会多，但是要经得住考验与诱惑，脚踏实地，梦想和目标不要脱离现实。<br>
--------------------------------------------------------------------------------<br>
【健康问题】饮食不要过量，四肢麻木<br>
【内心需求】认可<br>
【恐惧】限制，幻想破灭，希望落空<br>
--------------------------------------------------------------------------------<br>
首选职业：医护人员，志愿者，慈善家，教师包括生命数字解读师，很多都是9号人，9喜欢跟灵性相关的职业。<br>
            `,
            ]
            return details[num]
        }

        function outside_heart_pwd(num) {
            // 外心密码
            if (num === 3) {
                return `
                理想主义者<br>
拥有好的创意，但缺乏执行能力。<br>
做事严谨小心，性格愤世嫉俗，容易停滞不前。<br>
讲感觉，只要感觉对了，什么都好谈。<br>
享受第一，一般都属于先甜后苦之人。<br>
外表容易给人感觉很富有，往往口袋却没有很多钱。<br>
                `;
            }

            if (num === 6) {
                return `
现实主义者<br>
为人脚踏实地，不喜欢做无意义的空想。<br>
一旦完成规划，就会全力以赴，用心去实践。<br>
超强的自信心，充满闯劲，专注于改进和提升白己的能力<br>
在爱情世界里，他们相信面包比爱情重重要。<br>
在投资方面，他们都要求现成回馈。<br>
                `;
            }

            if (num === 9) {
                return `
                远见主义者
敢于追寻别人眼中不切实际的梦想<br>
懂得享受生活，是生活的大赢家。<br>
爱情上：面包与爱情都要。<br>
投资上：更看重未来的升值空间<br>
                `;
            }

            return "没有此号码"
        }

        function we_pwd(my_num, other_num) {
            let num = singleDigitSum(my_num + other_num);
            const pwds = [
                "没有此号码",
                `
夫妻感情密码1：孤独(婚姻感情中需要多修炼)<br>
五行里面基本是相克号码。相处时要有很多包容心。<br>
感情独立。向往各自的私人空间。活动自由。<br>
一一不够理想。<br>
                `,
                `
夫妻感情密码2！沟通(婚姻中会互相谦让)<br>
西人会有说不完的话题。善于合作。分析细腻。<br>
双方都很滔滔不绝。言论自如。<br>
不隐藏情绪（坦白）。机智的。亲密时有谈不完的话题。情绪时有斗不完的嘴<br>
——较理想。
                `,
                `
夫妻感情密码3：沖动(婚姻感情中需要多修炼)<br>
夸张处理事情、紧张及敏感。<br>
容易被激怒。<br>
情绪化，关系时好时坏，感情沖动<br>
一一不够理想。<br>
                `,
                `
夫妻感情密码4：策划(婚姻中会互相谦让)<br>
有耐心地按照步 骤执行。在理性与感性<br>
取得平衡，率真的感情，有共识、有安全感。<br>
生活有序。相敬如宾，会用心经营家庭<br>
一一较理想。<br>
                `,
                `
夫妻感情密码5：障碍(婚姻感情中需要多修炼)<br>
两极端，感情易遇（奔波)阳拦，忧虑，喜欢自由和冒险，猜疑固执。沖动。<br>
易情绪化。有很多阻碍<br>
一一不够理想。<br>
                `,
                `
夫妻感情密码6：忠诚(婚姻感情比较和谐美满)<br>
信赖。财富，家庭为重的感情，勇于承担和关心他人。结合生财富。注重家庭观念<br>
—一很理想。<br>
                `,
                `
夫妻感情密码7：人缘(婚姻感情比较和谐美满)<br>
活跃性交际活动，分析力强。追求真理,有共同的家庭朋友<br>
——很理想。<br>
                `,
                `
夫妻感情密码8：责任与压力(婚姻感情中需要多修炼)<br>
活跃感情。诚实诚意。压力来自于无形<br>
一一不够理想。<br>
                `,
                `
夫妻感情密码9：成功(婚姻感情比较和谐美满)<br>
完美。感情关系和事业井行。有梦想，喜欢贡献<br>
一一很理想。<br>
                `,
            ]
            
            return num > 0 && num < 10 ? pwds[num] : "没有此号码";
        }

        function older(v, w, x) {
            const olders = {
                213: `
这类人也许到晚年他不需要很多钱。<br>
但却要尊严，要有人听他说话。<br>
所以劝告这种人年轻时要多存一世钱。<br>
不然到老了没有说服力。<br>
                `,
                573: `
这类人到了晚年，也会一直遇到比较多上流社会的人。<br>
这类人每天吃喝都要上等的，慢量的也许你也将钱花光了，所以要找机会与这些上流朋友合作。这样你也可以賺到钱。<br>
                `,
                843: `
这类人大多数到了晚年是比较知足的一群人。<br>
如果你还不满意这种生活，请你要找对领导者来领导你，因为你是展于跟从者，而不是领导者，这样才能让你有所突破。<br>
                `,
                336: `
这类人需要很积极就会很有钱。<br>
而且不能有脾气和唐赌，这样会影响晚年的财富。<br>
                `,
                696: `
这类人要将年轻时所赚取的财富。 投资在产业上。 晚年就会有收获。<br>
                `,
                966: `
这类人展于有福报的晚年。<br>
因为年轻时急于求成，就会过于追求外在的改变，如改名、鼠藏过多的吉祥饰物。<br>
建议重好的修身养性。<br>
                `,
                189: `
这类人是完美主以者，众所周知这世上没有完美的事物。<br>
所以这些人都会累积一些产业。<br>
但往往在追求完美过程时影响了健康。<br>
                `,
                459: `
这类人都会想在很短促的时间内，找到他要的财富，<br>
如果他在年轻时<br>
达不到所要的成就。晚年处事都需要道慎。<br>
不然往佳事与愿违。<br>
                `,
                729: `
需要维持友好婚姻状况，因为这组数宇展友善者。时而不时，有较强异性缘，这都会影响个人的磁场。<br>
如要突破，伴侣和女性都是你的贵人。<br>
                `,
            }

            return olders[parseInt(`${v}${w}${x}`)] || "没有此号码";
        }

        function generateAndExplainTriangle() {
            let birthdate = new Date(document.getElementById('birthdate').value);
            
            let day = birthdate.getDate();
            let month = birthdate.getMonth() + 1;  // January is 0!
            let year = birthdate.getFullYear();
            console.log("birthdate:", year, month, day);
            const a = Math.floor(day / 10);
            const b = day % 10;
            const c = Math.floor(month / 10);
            const d = month % 10;
            const e = Math.floor(year / 1000);
            const f = Math.floor(year / 100) % 10;
            const g = Math.floor(year / 10) % 10;
            const h = year % 10;

            const i = singleDigitSum(a + b);
            const j = singleDigitSum(c + d);

            const k = singleDigitSum(e + f);
            const l = singleDigitSum(g + h);

            const m = singleDigitSum(i + j);
            const n = singleDigitSum(k + l);

            const o = singleDigitSum(m + n);

            const p = singleDigitSum(m + o);
            const q = singleDigitSum(n + o);
            const r = singleDigitSum(q + p);

            const s = singleDigitSum(j + m);
            const t = singleDigitSum(i + m);
            const u = singleDigitSum(t + s);

            const v = singleDigitSum(k + n);
            const w = singleDigitSum(l + n);
            const x = singleDigitSum(v + w);

            let daySum = singleDigitSum(day);
            let monthSum = singleDigitSum(month);
            let yearFirstPart = singleDigitSum(Math.floor(year / 100));
            let yearSecondPart = singleDigitSum(year % 100);

            let secondLayerLeft = singleDigitSum(daySum + monthSum);
            let secondLayerRight = singleDigitSum(yearFirstPart + yearSecondPart);

            let topLayer = singleDigitSum(secondLayerLeft + secondLayerRight);

            let triangleStr = `   ${topLayer}\n  ${secondLayerLeft}   ${secondLayerRight}\n ${daySum}  ${monthSum}  ${yearFirstPart}  ${yearSecondPart}`;
            document.getElementById('triangle').innerText = triangleStr;

            let other_main_number = document.getElementById('other_main_number').value
            if (other_main_number !== "") {
                try {
                    other_main_number = parseInt(other_main_number);
                } catch {
                    other_main_number = 0;
                }
            }

            console.log("晚年密码：", v, w,x)

            let explanationStr = `
                <b>主性格(${o})<${ o % 2 === 0 ? "被动性格" : "主动性格"}>:</b> ${explainNumber(o)}<br>
                <b>表面性格解读(${o}):</b> ${surface(o)}<br>
                <b>内心性格解读(${singleDigitSum(o * 2)}):</b> ${inner(o)}<br>
                <b>潜意思解读(${singleDigitSum(m + i + l)}):</b> ${subconscious(singleDigitSum(m + i + l))}<br>
                <b>外心密码解读(${singleDigitSum(u + r + x)}):</b> ${outside_heart_pwd(singleDigitSum(u + r + x))}<br>
                ${
                    other_main_number > 0 ? `<b>夫妻感情解析(${singleDigitSum(o + other_main_number)}):</b> ${we_pwd(o, other_main_number)}<br>` : ""
                }
                <b>晚年/家庭/大于60岁解析(${v}${w}${x}):</b> ${older(v, w, x)}<br>
                <b>${o}号人格分析:</b> <br>${detail(o)}<br>
            `
                // 中间左边(${secondLayerLeft}): ${explainNumber(secondLayerLeft)}<br>
                // 中间右边(${secondLayerRight}): ${explainNumber(secondLayerRight)}<br>
                // 底部左一(${daySum}): ${explainNumber(daySum)}<br>
                // 底部左二(${monthSum}): ${explainNumber(monthSum)}<br>
                // 底部右一(${yearFirstPart}): ${explainNumber(yearFirstPart)}<br>
                // 底部右二(${yearSecondPart}): ${explainNumber(yearSecondPart)}
            ;

            document.getElementById('explanation').innerHTML = explanationStr;
        }

        function setDateLimit() {
            let today = new Date();
            let year = today.getFullYear();
            let month = (today.getMonth() + 1).toString().padStart(2, '0');  // Format as two digits
            let day = today.getDate().toString().padStart(2, '0');          // Format as two digits
            let formattedDate = `${year}-${month}-${day}`;

            document.getElementById('birthdate').max = formattedDate;
        }

        // Initialize the date limit
        setDateLimit();
    </script>
</body>
</html>